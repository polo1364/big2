
# 大老二（Big Two）— 使用者檔案基礎之強化版

本版是直接**以你提供的 `index.html` 為基礎**做定點修正，保持原有外觀與功能，並補強以下項目：

## 此次修改重點
1. **首攻不可 PASS（UI 同步）**  
   - 先前僅在程式邏輯防呆，這次把 **PASS 按鈕在首攻時直接禁用**，避免「自己跟自己」的錯誤操作。

2. **背景音樂（BGM）自動啟動流程修正**  
   - 新增 `BGM.boot()` 啟動：會讀取 `localStorage` 偏好，並在首次點擊畫面後開始**隨機輪播 `BGM1~BGM5.mp3`**。  
   - 如果先前覺得 BGM 沒反應，通常是少了這個啟動流程。已補上。

3. **音效（SFX）/ 音樂（BGM）偏好持久化**  
   - 你的開關狀態會**記錄在 `localStorage`**：  
     - `big2_sfx`：`1` 開 / `0` 關  
     - `big2_bgm`：`1` 開 / `0` 關  
   - 重新整理或下次開啟一樣會套用。

4. **全螢幕防呆**  
   - `requestFullscreen/exitFullscreen` 皆加上 **try/catch**（含 `webkit`/`ms` 前綴），避免在某些瀏覽器情境報錯。

---

## 使用方式
1. 將這個 `index.html` 放回你的專案（和 `BGM1.mp3`～`BGM5.mp3` 同層）。  
2. 直接用瀏覽器開啟（建議非 iframe）。  
3. 首次點一下畫面或按鍵，BGM 才會依瀏覽器規則開始播放。

## 已含功能（沿用你原檔）
- **AI 對手（含代打）**、**提示面板**（可篩可壓過/指定牌型，點即可自動幫選牌）、**分數制度與結算**、**戰況特效與音效**（同花順/鐵支/葫蘆/順子+♠2 特效）。  
- **行動裝置優化**：手牌過多時自動分兩排顯示。  
- **戰況區右上**：重置分數 / 音效開關 / 音樂開關。  
- **重發**旁有**全螢幕**按鈕；左上額外提供**退出全螢幕**浮鈕。

---

若還想要：音量滑桿、淡入淡出、全螢幕時自動調整卡片尺寸、或 AI 牌型策略加權（例如更聰明地保留 2、拆對與否），告訴我，我可以在這份檔案上繼續擴充。
