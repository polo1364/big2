# 大老二 — 系列戰 v10（修復「無法遊戲」）

本版針對你回報的「**無法遊戲**」做了幾個關鍵修復：

### ✅ 修復內容
1. **隨機中文名字 randName()**：修正索引錯誤，改為穩定產生 2～3 字，避免在部分瀏覽器造成例外而中斷腳本。  
2. **選牌事件**：除了 `pointerdown` 之外**加上 `click`** 事件，確保桌機與部分行動瀏覽器都能選牌。  
3. **全域錯誤攔截**：加入 `window.onerror` / `unhandledrejection`，若仍出現 JS 錯誤，會跳出**錯誤視窗**，便於回報與排查，而不會整個遊戲卡住。  
4. **AI 選牌/回合流程**：保留 v8 的強化邏輯並加上保險分支，避免極端牌型導致 AI 不動。  
5. **安全移除手牌**：出牌時逐張比對刪除，避免索引偏移造成移除錯牌或錯誤。

### 仍保留的功能
- **牌型與比較**：單張、對子、三條、順子（只允許 5 張）、葫蘆、鐵支、同花順；炸彈壓制規則。  
- **規則**：首攻必含 ♣3、不能自我 PASS、三家 PASS 後最後出牌者得出牌權。  
- **AI**：首攻偏好五張與多張手、跟牌先同型最低成本、必要時炸。  
- **計分**：起始 10000；**贏家吃分**；輸家依剩牌與 2/鐵支/同花順加倍；有人 ≤ 0 立即總結算。  
- **UI**：行動裝置兩排手牌、戰況區縮小、重置分數在左上角、提示面板置中。

### 使用方式
解壓後直接開啟 `index.html`。若仍遇到「無法遊戲」，請：  
- 先按左上角「**重置分數**」或按結束視窗的「**重發**」試試；  
- 若出現錯誤視窗，**截圖整段錯誤訊息**回傳，我會立即再修。

---

感謝你一路的迭代建議！有需要我把錯誤資訊寫入「戰況區」做簡化記錄，或加上「**回報錯誤**」一鍵複製功能，也可以再加上。
